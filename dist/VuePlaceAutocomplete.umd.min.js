(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["VuePlaceAutocomplete"]=t():e["VuePlaceAutocomplete"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00c4":function(e,t,n){"use strict";var i=n("cdf6"),r=n.n(i);r.a},"04b4":function(e,t,n){},3508:function(e,t,n){},5780:function(e,t,n){"use strict";var i=n("d8a9"),r=n.n(i);r.a},"5a2f":function(e,t,n){"use strict";var i=n("6c7a"),r=n.n(i);r.a},"68db":function(e,t,n){},"6c7a":function(e,t,n){},"7aa6":function(e,t,n){"use strict";var i=n("68db"),r=n.n(i);r.a},"7c5d":function(e,t,n){"use strict";var i=n("04b4"),r=n.n(i);r.a},"87f6":function(e,t,n){},"9d01":function(e,t,n){"use strict";var i=n("87f6"),r=n.n(i);r.a},cdf6:function(e,t,n){},d8a9:function(e,t,n){},e75e:function(e,t,n){"use strict";var i=n("3508"),r=n.n(i);r.a},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(i){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));function r(...e){return Object.assign(...e)}function s(e){return null===e}function o(e){return Array.isArray(e)}function l(e){return"object"===typeof e&&!s(e)&&!o(e)}function a(e){return"number"===typeof e||!!e&&"[object Number]"===e.toString()}function c(e){return a(e)||!!e&&!o(e)&&!!e.toString().match(/^-?[\d.,]+$/)}function u(e){return c(e)?parseFloat(e):e}function d(e,t){for(const n in e)t(e[n],u(n))}function p(e){return!0===e||!1===e}function f(e){return"undefined"===typeof e}function m(e){return o(e)?0===e.length:l(e)?0===Object.keys(e).length:""===e||s(e)||f(e)}function h(e){return e&&e.replace?e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").replace(/_/g,"-").toLowerCase():null}function v(e,t){const n={};return d(e,(e,i)=>{n[t(e,i)]=e}),n}const y={street:["street_number","route","intersection"],city:["locality"],state:["administrative_area_level_1"],zip:["postal_code"],zipcode:["postal_code"],county:["administrative_area_level_2"]};function b(e,t){return e.filter(e=>-1!==t.indexOf(e)).filter((e,t,n)=>{return n.indexOf(e)===t})}function g(e,t,n){if(n[e])return n[e];if("latitude"===e)return n.geometry.location.lat();if("longitude"===e)return n.geometry.location.lng();const i=y[e]||(o(e)?e:[e]),r=n.address_components.map(e=>{if(b(e.types,i).length)return e[t.short?"short_name":"long_name"]}).filter(e=>!!e);return r.length?r.join(" "):null}function x(e,t,n){const i=e.expression.split("."),r=i.pop(),s=i.reduce((e,t)=>e[t],t.context);return n=o(n)?n.join(" "):n,e.modifiers.query&&(t.componentInstance.query=n),s[r]=n,n}var _={bind(e,t,n){n.componentInstance.$on("select",(e,i)=>{n.context.$nextTick(()=>{x(t,n,g(t.arg,t.modifiers,i))})})}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-field",on:{keydown:e.onKeydown,keyup:e.onKeyup}},[n("input-field",e._b({directives:[{name:"bind-events",rawName:"v-bind-events"}],attrs:{label:e.label,errors:e.errors,value:e.value,custom:e.custom,autocomplete:"no"},on:{blur:e.onBlur,focus:e.onFocus,input:function(t){return e.$emit("input",e.query)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},"input-field",e.$attrs,!1),[e.showActivityIndicator?n("activity-indicator",{attrs:{size:"xs",type:"spinner"}}):e._e()],1),e.predictions&&e.showPredictions?n("place-autocomplete-list",{attrs:{items:e.predictions},on:{"item:click":e.onItemClick,"item:blur":e.onItemBlur}}):e._e()],1)},$=[];function w(e){const t=new window.google.maps.Geocoder;return new Promise((n,i)=>{e.geometry?n([e]):t.geocode(e,(e,t)=>{t===window.google.maps.GeocoderStatus.OK?n(e):i(t)})})}const C={};function E(e){const t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("type","text/javascript"),t.setAttribute("charset","utf-8"),t}function k(e){return document.querySelector("head")?document.querySelector("head").appendChild(e):document.querySelector("body").appendChild(e),e}function F(e){return C[e]instanceof Promise?C[e]:C[e]||document.querySelector(`script[src="${e}"]`)?new Promise((t,n)=>{t(C[e])}):(C[e]=new Promise((t,n)=>{try{k(E(e)).addEventListener("load",n=>{t(C[e]=n)})}catch(i){n(i)}}),C[e])}var A=F,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-list-wrapper"},[n("ul",{staticClass:"autocomplete-list"},e._l(e.items,function(t,i){return n("place-autocomplete-list-item",{key:t.id,attrs:{item:t},on:{click:e.onClick,focus:e.onFocus,blur:e.onBlur}},[e._v("\n            "+e._s(t[e.display])+"\n        ")])}),1)])},I=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"autocomplete-list-item",on:{focus:e.onFocus,onBlur:e.onBlur}},[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClick(t)},focus:e.onFocus,blur:e.onBlur}},[n("span",{staticClass:"autocomplete-list-item-icon"}),n("span",{staticClass:"autocomplete-list-item-label"},[e._t("default")],2)])])},j=[],O={name:"place-autocomplete-list-item",props:{item:Object},methods:{onBlur(e){this.$emit("blur",e,this)},onClick(e){this.$emit("click",e,this)},onFocus(e){this.$emit("focus",e,this)}}},q=O;n("5a2f");function T(e,t,n,i,r,s,o,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=a):r&&(a=l?function(){r.call(this,this.$root.$options.shadowRoot)}:r),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}var L=T(q,B,j,!1,null,null,null),N=L.exports,z={name:"place-autocomplete-list",components:{PlaceAutocompleteListItem:N},props:{items:{type:Array,default:()=>{return[]}},display:{type:String,default:"description"}},methods:{onBlur(e,t){this.$emit("item:blur",e,t)},onFocus(e,t){this.$emit("item:focus",e,t)},onClick(e,t){this.$emit("item:click",e,t)}}},H=z,R=T(H,P,I,!1,null,null,null),M=R.exports;function D(e,t,n="-"){const i=(e,i)=>{const r=(i||e).replace(new RegExp(`^${t}${n}?`),"");return[t,r].filter(e=>!!e).join(n)};return p(e)?e:l(e)?v(e,i):i(e)}var G=D,K={computed:{colorableClasses(){const e={};for(let t in this.$attrs)t.match(/^bg|text|border|bg-gradient-/)&&(e[t]=!0);return e}}},W=K,U={methods:{mergeClasses(){let e={};return d([].slice.call(arguments),t=>{l(t)?r(e,t):o(t)?e=e.concat(t):t&&(e[t]=!0)}),e}}},V=U;const X="is-empty",Z="has-focus",J="has-changed",Q="custom";function Y(e,t,n){t.context.$el.classList.add(n)}function ee(e,t,n){t.context.$el.classList.remove(n)}function te(e,t){(m(e.value)||"SELECT"===e.tagName&&-1===e.selectedIndex)&&Y(e,t,X)}var ne,ie,re,se,oe={inheritAttrs:!1,mixins:[W,V],props:{activity:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},label:[Number,String],value:{default:null},group:{type:Boolean,default:!0},error:String,errors:{type:Object,default(){return{}}},feedback:[String,Array],bindEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},defaultControlClass:{type:String,default:"form-control"},hideLabel:Boolean,invalid:Boolean,valid:Boolean,spacing:String,size:{type:String,default:"md",validate:e=>-1!==["sm","md","lg"].indexOf(e)},inline:Boolean,helpText:[Number,String]},directives:{bindEvents:{bind(e,t,n){function i(e,t){Y(e,n,J),!m(t)||e.selectedIndex&&e.selectedIndex>-1?ee(e,n,X):e.classList.contains(J)||Y(e,n,X),"SELECT"===e.tagName&&e.querySelector('[value=""]')&&(e.querySelector('[value=""]').selected=!t)}n.context.$watch("value",e=>{i(n.context.$el,e)}),e.addEventListener("blur",t=>{e.classList.contains(X)&&ee(e,n,J),ee(e,n,Z)}),e.addEventListener("input",e=>{i(e.target,e.target.value)}),e.addEventListener("focus",t=>{Y(e,n,Z)}),d(n.context.bindEvents,t=>{e.addEventListener(t,e=>{n.context.$emit(t,e)})})},inserted(e,t,n){te(e,n),e.selectedIndex>-1&&Y(e,n,J)},update(e,t,n){te(e,n)}}},methods:{blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let e=this.error||this.errors;return l(this.errors)&&(e=this.errors[this.$attrs.name||this.$attrs.id]),!e||o(e)||l(e)?e:[e]}},computed:{controlAttributes(){return Object.keys(this.$attrs).concat([["class",this.controlClasses]]).reduce((e,t)=>{return o(t)?e[t[0]]=t[1]:e[t]=this[t]||this.$attrs[t],e},{})},controlClass(){return this.custom?this.customControlClass:this.defaultControlClass+(this.plaintext?"-plaintext":"")},controlSizeClass(){return G(this.size,this.controlClass)},customControlClass(){return"custom-control"},formGroupClasses(){const e=G(h(this.$options.name),this.custom?Q:"");return this.mergeClasses(e,G(this.size,e),{"has-activity":this.activity,"is-valid":!(!this.valid&&!this.validFeedback),"is-invalid":!(!this.invalid&&!this.invalidFeedback)})},controlClasses(){return this.mergeClasses(this.controlClass,this.colorableClasses,this.controlSizeClass,this.spacing||"",this.valid||this.validFeedback?"is-valid":"",this.invalid||this.invalidFeedback?"is-invalid":"")},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){const e=this.getFieldErrors();return this.error||(o(e)?e.join("<br>"):e)},validFeedback(){return o(this.feedback)?this.feedback.join("<br>"):this.feedback}}},le=oe,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"form-group":!!e.group}},[e._t("default")],2)},ce=[],ue={name:"FormGroup",props:{group:{type:Boolean,default:!0}}},de=ue,pe=(n("7c5d"),T(de,ae,ce,!1,null,null,null)),fe=pe.exports,me=fe,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form-group",{class:e.formGroupClasses,attrs:{group:e.group}},[e._t("label",[e.label?n("form-label",{ref:"label",attrs:{for:e.$attrs.id},domProps:{innerHTML:e._s(e.label)}}):e._e()]),n("div",{staticClass:"form-group-inner"},[e._t("control",[n("input",e._b({directives:[{name:"bind-events",rawName:"v-bind-events"}],domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"input",e.controlAttributes,!1))]),e._t("activity",[n("transition",{attrs:{name:"slide-fade"}},[e.activity?n("activity-indicator",{key:"test",ref:"activity",attrs:{type:"dots",size:e.size}}):e._e()],1)])],2),e._t("feedback",[e.validFeedback?n("form-feedback",{ref:"feedback",attrs:{valid:""},domProps:{innerHTML:e._s(e.validFeedback)}}):e.invalidFeedback?n("form-feedback",{ref:"feedback",attrs:{invalid:""},domProps:{innerHTML:e._s(e.invalidFeedback)}}):e._e()]),e._t("help",[e.helpText?n("help-text",{ref:"help",domProps:{innerHTML:e._s(e.helpText)}}):e._e()])],2)},ve=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",{staticClass:"form-text",class:e.classes},[e._t("default")],2)},be=[],ge={props:{srOnly:Boolean,srOnlyFocusable:Boolean},computed:{screenreaderClasses(){return{"sr-only":this.srOnly,"sr-only-focusable":this.srOnlyFocusable}}}},xe={name:"HelpText",mixins:[K,ge],computed:{classes(){return r({},this.screenreaderClasses,this.colorableClasses)}}},_e=xe,Se=T(_e,ye,be,!1,null,null,null),$e=Se.exports,we=$e,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.classes},[e._t("default")],2)},Ee=[],ke={name:"FormLabel",mixins:[K,ge],computed:{classes(){return r({},this.screenreaderClasses,this.colorableClasses)}}},Fe=ke,Ae=T(Fe,Ce,Ee,!1,null,null,null),Pe=Ae.exports,Ie=Pe,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"invalid-feedback":e.invalid,"valid-feedback":e.valid&&!e.invalid}},[e._t("default",[e._v(e._s(e.label))])],2)},je=[],Oe={name:"FormFeedback",mixins:[K],props:{label:String,invalid:Boolean,valid:Boolean}},qe=Oe,Te=T(qe,Be,je,!1,null,null,null),Le=Te.exports,Ne=Le,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.center?n("div",{staticClass:"center-wrapper",class:{"position-relative":e.relative,"position-fixed":e.fixed},style:e.style},[n("div",{staticClass:"center-content d-flex flex-column align-items-center"},[n(e.component,{tag:"component",attrs:{size:e.size,prefix:e.prefix}}),e.label?n("div",{staticClass:"activity-indicator-label",domProps:{innerHTML:e._s(e.label)}}):e._e()],1)]):n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",style:e.style},[n(e.component,{tag:"component",attrs:{size:e.size,prefix:e.prefix}}),e.label?n("div",{staticClass:"activity-indicator-label",domProps:{innerHTML:e._s(e.label)}}):e._e()],1)},He=[],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-indicator",class:e.classes},e._l(e.nodes,function(e){return n("div",{key:e})}),0)},Me=[],De={props:{nodes:{type:Number,default:3},size:{type:String,default:""},prefix:{type:String,default:"activity-indicator-"}},computed:{classes:function(){const e={},t=h(this.$options.name);return e[t]=!!t,e[this.prefix+this.size.replace(this.prefix,"")]=!!this.size,e}}},Ge=De,Ke=T(Ge,Re,Me,!1,null,null,null),We=Ke.exports,Ue=function(e,t="px"){return isFinite(e)?e+t:e},Ve={name:"ActivityIndicatorDots",extends:We},Xe=Ve,Ze=(n("e75e"),T(Xe,ne,ie,!1,null,null,null)),Je=Ze.exports,Qe={name:"ActivityIndicatorSpinner",extends:We,props:r({},We.props,{nodes:{type:Number,default:12}})},Ye=Qe,et=(n("9d01"),T(Ye,re,se,!1,null,null,null)),tt=et.exports,nt={name:"ActivityIndicator",components:{ActivityIndicatorDots:Je,ActivityIndicatorSpinner:tt},extends:We,props:{center:Boolean,fixed:Boolean,label:String,relative:Boolean,type:{type:String,default:"dots"},height:[String,Number],maxHeight:[String,Number],minHeight:[String,Number],width:[String,Number],maxWidth:[String,Number],minWidth:[String,Number]},computed:{style(){return{width:Ue(this.width),maxWidth:Ue(this.maxWidth),minWidth:Ue(this.minWidth),height:Ue(this.height),maxHeight:Ue(this.maxHeight),minHeight:Ue(this.minHeight)}},component(){return h(this.prefix+this.type.replace(this.prefix,""))}}},it=nt,rt=(n("00c4"),T(it,ze,He,!1,null,null,null)),st=rt.exports,ot=st,lt={name:"InputField",components:{HelpText:we,FormGroup:me,FormLabel:Ie,FormFeedback:Ne,ActivityIndicator:ot},mixins:[W,le]},at=lt,ct=(n("7aa6"),T(at,he,ve,!1,null,null,null)),ut=ct.exports,dt=ut;const pt={ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,TAB:9},ft=["bounds","location","componentRestrictions","offset","radius","types"];var mt={name:"place-autocomplete-field",mixins:[le],components:{FormGroup:me,InputField:dt,ActivityIndicator:ot,PlaceAutocompleteList:M},watch:{value(e){this.query=e}},props:{apiKey:{type:String,required:!0},baseUri:{type:String,default:"https://maps.googleapis.com/maps/api/js"},language:{type:String,default:"en"},componentRestrictions:{type:[Boolean,Object,String],default:!1},custom:Boolean,libraries:{type:Array,default(){return["geometry","places"]}},bounds:{type:[Boolean,Object,String],default:!1},location:{type:[Boolean,Object,String],default:!1},offset:{type:Boolean,default:!1},radius:{type:Boolean,default:!1},types:{type:[Boolean,Array],default:!1}},methods:{getInputElement(){return this.$el.querySelector("input")},getRequestOptions(){const e={input:this.getInputElement().value};return ft.forEach(t=>{void 0===this[t]&&null===this[t]||(e[t]=this[t])}),e},select(e){w({placeId:e.place_id}).then(t=>{this.hide(),this.$emit("input",this.query=t[0].formatted_address),this.$emit("select",e,t[0])})},search(){return new Promise((e,t)=>{this.getInputElement().value?(this.showActivityIndicator=!0,this.$service.getPlacePredictions(this.getRequestOptions(),(n,i)=>{switch(this.showActivityIndicator=!1,i){case window.google.maps.places.PlacesServiceStatus.OK:e(n);break;default:t(new Error(`Error with status: ${i}`))}})):(this.predictions=!1,this.showPredictions=!1)})},hide(){this.showPredictions=!1},show(){this.showPredictions=!0},up(){const e=this.$el.querySelector("a:focus");if(e&&e.parentElement.previousElementSibling)e.parentElement.previousElementSibling.querySelector("a").focus();else{const e=this.$el.querySelectorAll("a");e[e.length-1].focus()}},down(){const e=this.$el.querySelector("a:focus");e&&e.parentElement.nextElementSibling?e.parentElement.nextElementSibling.querySelector("a").focus():this.$el.querySelector("a").focus()},onKeydown(e){const t=this.$el.querySelector("[tabindex]");t&&e.keyCode===pt.TAB&&e.preventDefault()&&t.focus()},onKeyup(e){switch(e.keyCode){case pt.ENTER:case pt.SPACE:return void(this.$el.querySelector(".is-focused")&&this.$el.querySelector(".is-focused a").dispatchEvent(new Event("mousedown")));case pt.ESC:return this.hide(),void this.getInputElement().blur();case pt.UP:return this.up(),void e.preventDefault();case pt.DOWN:return this.down(),void e.preventDefault()}this.search().then(e=>{this.predictions=e,this.showPredictions=!0},e=>{e&&(this.predictions=!1)})},onFocus(e){this.query&&(this.predictions.length||this.onKeyup(e),this.show())},onBlur(e){this.$el.contains(e.relatedTarget)||this.hide()},onItemBlur(e){this.onBlur(e)},onItemClick(e,t){this.select(t.item),this.predictions=!1}},mounted(){A(`${this.baseUri}?key=${this.apiKey}&language=${this.language}&libraries=${this.libraries.join(",")}`).then(()=>{this.$geocoder=new window.google.maps.Geocoder,this.$service=new window.google.maps.places.AutocompleteService,this.loaded=!0,this.$emit("loaded")})},data(){return{loaded:!1,predictions:!1,query:this.value,showPredictions:!1,showActivityIndicator:this.activity}}},ht=mt,vt=(n("5780"),T(ht,S,$,!1,null,null,null)),yt=vt.exports;function bt(e,t){e.directive("place-autofill",_),e.component("place-autocomplete-field",yt),e.component("place-autocomplete-list",M),e.component("place-autocomplete-list-item",N)}window&&window.Vue&&window.Vue.use(bt);var gt=bt;n.d(t,"PlaceAutofill",function(){return _}),n.d(t,"PlaceAutocompleteField",function(){return yt}),n.d(t,"PlaceAutocompleteList",function(){return M}),n.d(t,"PlaceAutocompleteListItem",function(){return N});t["default"]=gt}})["default"]});
//# sourceMappingURL=VuePlaceAutocomplete.umd.min.js.map