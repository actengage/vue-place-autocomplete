(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["VuePlaceAutocomplete"]=t():e["VuePlaceAutocomplete"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00c4":function(e,t,n){"use strict";var i=n("aac5"),r=n.n(i);r.a},"0a06":function(e,t,n){},"0f2a":function(e,t,n){},"3b67":function(e,t,n){},5780:function(e,t,n){"use strict";var i=n("0f2a"),r=n.n(i);r.a},"5a2f":function(e,t,n){"use strict";var i=n("6d86"),r=n.n(i);r.a},"6d86":function(e,t,n){},"7aa6":function(e,t,n){"use strict";var i=n("0a06"),r=n.n(i);r.a},"7c5d":function(e,t,n){"use strict";var i=n("826a"),r=n.n(i);r.a},"826a":function(e,t,n){},"9d01":function(e,t,n){"use strict";var i=n("ce8e"),r=n.n(i);r.a},aac5:function(e,t,n){},ce8e:function(e,t,n){},e75e:function(e,t,n){"use strict";var i=n("3b67"),r=n.n(i);r.a},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(i){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));function r(...e){return Object.assign(...e)}function s(e){return null===e}function o(e){return Array.isArray(e)}function l(e){return"object"===typeof e&&!s(e)&&!o(e)}parseInt;Math.max,Math.min;function a(e){return"number"===typeof e||!!e&&"[object Number]"===e.toString()}function c(e){return a(e)||!!e&&!o(e)&&!!e.toString().match(/^-?[\d.,]+$/)}function u(e){return c(e)?parseFloat(e):e}function d(e,t){for(const n in e)t(e[n],u(n))}function p(e){return!0===e||!1===e}function f(e){return"undefined"===typeof e}function m(e){return o(e)?0===e.length:l(e)?0===Object.keys(e).length:""===e||s(e)||f(e)}function h(e){return e&&e.replace?e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").replace(/_/g,"-").toLowerCase():null}function v(e,t){const n={};return d(e,(e,i)=>{n[t(e,i)]=e}),n}var y=function(e,t="px"){return isFinite(e)?e+t:e};const b={street:["street_number","route","intersection"],city:["locality"],state:["administrative_area_level_1"],zip:["postal_code"],zipcode:["postal_code"],county:["administrative_area_level_2"]};function g(e,t){return e.filter(e=>-1!==t.indexOf(e)).filter((e,t,n)=>n.indexOf(e)===t)}function x(e,t,n){if(n[e])return n[e];if("latitude"===e)return n.geometry.location.lat();if("longitude"===e)return n.geometry.location.lng();const i=b[e]||(o(e)?e:[e]),r=n.address_components.map(e=>{if(g(e.types,i).length)return e[t.short?"short_name":"long_name"]}).filter(e=>!!e);return r.length?r.join(" "):null}function _(e,t,n){const i=e.expression.split("."),r=i.pop(),s=i.reduce((e,t)=>e[t],t.context);return n=o(n)?n.join(" "):n,e.modifiers.query&&(t.componentInstance.query=n),s[r]=n,n}var S={bind(e,t,n){n.componentInstance.$on("autocomplete-select",(e,i)=>{n.context.$nextTick(()=>{_(t,n,x(t.arg,t.modifiers,i))})})}},$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-field",on:{keydown:e.onKeydown,keyup:e.onKeyup}},[n("input-field",e._b({directives:[{name:"bind-events",rawName:"v-bind-events"}],attrs:{label:e.label,errors:e.errors,value:e.value,custom:e.custom,autocomplete:"no"},on:{blur:e.onBlur,focus:e.onFocus,input:function(t){return e.$emit("input",e.query)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},"input-field",e.$attrs,!1),[e.showActivityIndicator?n("activity-indicator",{attrs:{size:"xs",type:"spinner"}}):e._e()],1),e.predictions&&e.showPredictions?n("place-autocomplete-list",{attrs:{items:e.predictions},on:{"item:click":e.onItemClick,"item:blur":e.onItemBlur}}):e._e()],1)},C=[];function w(e){const t=new window.google.maps.Geocoder;return new Promise((n,i)=>{e.geometry?n([e]):t.geocode(e,(e,t)=>{t===window.google.maps.GeocoderStatus.OK?n(e):i(t)})})}const E={};function k(e){const t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("type","text/javascript"),t.setAttribute("charset","utf-8"),t}function F(e){return document.querySelector("head")?document.querySelector("head").appendChild(e):document.querySelector("body").appendChild(e),e}function I(e){return E[e]instanceof Promise?E[e]:E[e]||document.querySelector(`script[src="${e}"]`)?new Promise((t,n)=>{t(E[e])}):(E[e]=new Promise((t,n)=>{try{F(k(e)).addEventListener("load",n=>{t(E[e]=n)})}catch(i){n(i)}}),E[e])}var A=I,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-list-wrapper"},[n("ul",{staticClass:"autocomplete-list"},e._l(e.items,(function(t,i){return n("place-autocomplete-list-item",{key:t.id,attrs:{item:t},on:{click:e.onClick,focus:e.onFocus,blur:e.onBlur}},[e._v(" "+e._s(t[e.display])+" ")])})),1)])},P=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"autocomplete-list-item",on:{focus:e.onFocus,onBlur:e.onBlur}},[n("a",{attrs:{href:"#",tabindex:"0"},on:{click:function(t){return t.preventDefault(),e.onClick(t)},focus:e.onFocus,blur:e.onBlur}},[n("span",{staticClass:"autocomplete-list-item-icon"}),n("span",{staticClass:"autocomplete-list-item-label"},[e._t("default")],2)])])},O=[],q={name:"place-autocomplete-list-item",props:{item:Object},methods:{onBlur(e){this.$emit("blur",e,this)},onClick(e){this.$emit("click",e,this)},onFocus(e){this.$emit("focus",e,this)}}},T=q;n("5a2f");function L(e,t,n,i,r,s,o,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=a):r&&(a=l?function(){r.call(this,this.$root.$options.shadowRoot)}:r),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}var N=L(T,j,O,!1,null,null,null),z=N.exports,H={name:"place-autocomplete-list",components:{PlaceAutocompleteListItem:z},props:{items:{type:Array,default:()=>[]},display:{type:String,default:"description"}},methods:{onBlur(e,t){this.$emit("item:blur",e,t)},onFocus(e,t){this.$emit("item:focus",e,t)},onClick(e,t){this.$emit("item:click",e,t)}}},R=H,K=L(R,B,P,!1,null,null,null),M=K.exports;function D(e,t,n="-"){const i=(e,i)=>{const r=(i||e).replace(new RegExp(`^${t}${n}?`),"");return[t,r].filter(e=>!!e).join(n)};return p(e)?e:l(e)?v(e,i):i(e)}var G=D,W={computed:{colorableClasses(){const e={};for(let t in this.$attrs)(t.match(/^bg|text|border|bg-gradient-/)&&this.$attrs[t]||void 0===this.$attrs[t])&&(e[t]=!0);return e}}},U=W,V={methods:{mergeClasses(){let e={};return d([].slice.call(arguments),t=>{l(t)?r(e,t):o(t)?e=e.concat(t):t&&(e[t]=!0)}),e}}},X=V;const Z="is-empty",J="has-focus",Q="has-changed",Y="custom";function ee(e,t,n){t.context.$el.classList.add(n)}function te(e,t,n){t.context.$el.classList.remove(n)}function ne(e,t){(m(e.value)||"SELECT"===e.tagName&&-1===e.selectedIndex)&&ee(e,t,Z)}var ie,re,se,oe,le={inheritAttrs:!1,mixins:[U,X],props:{activity:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},label:[Number,String],value:{default:null},group:{type:Boolean,default:!0},error:[Boolean,String],errors:{type:Object,default(){return{}}},feedback:[String,Array],bindEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},defaultControlClass:{type:String,default:"form-control"},labelClass:[Object,String],hideLabel:Boolean,invalid:Boolean,valid:Boolean,spacing:String,size:{type:String,default:"md",validate:e=>-1!==["sm","md","lg"].indexOf(e)},inline:Boolean,helpText:[Number,String]},directives:{bindEvents:{bind(e,t,n){function i(e,t){ee(e,n,Q),!m(t)||e.selectedIndex&&e.selectedIndex>-1?te(e,n,Z):e.classList.contains(Q)||ee(e,n,Z),"SELECT"===e.tagName&&e.querySelector('[value=""]')&&(e.querySelector('[value=""]').selected=!t)}n.context.$watch("value",e=>{i(n.context.$el,e)}),e.addEventListener("blur",t=>{e.classList.contains(Z)&&te(e,n,Q),te(e,n,J)}),e.addEventListener("change",e=>{i(e.target,e.target.value)}),e.addEventListener("focus",t=>{ee(e,n,J)}),d(n.context.bindEvents,t=>{e.addEventListener(t,e=>{n.context.$emit(t,e)})}),e.selectedIndex>=0&&e.setAttribute("data-selected-index",e.selectedIndex)},inserted(e,t,n){ne(e,n),"number"===typeof e.selectedIndex&&e.selectedIndex},update(e,t,n){ne(e,n)}}},methods:{blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let e=this.error||this.errors;return l(this.errors)&&(e=this.errors[this.$attrs.name||this.$attrs.id]),!e||o(e)||l(e)?e:[e]}},computed:{controlAttributes(){return Object.keys(this.$attrs).concat([["class",this.controlClasses]]).reduce((e,t)=>(o(t)?e[t[0]]=t[1]:e[t]=this[t]||this.$attrs[t],e),{})},controlClass(){return this.custom?this.customControlClass:this.defaultControlClass+(this.plaintext?"-plaintext":"")},controlSizeClass(){return G(this.size,this.controlClass)},customControlClass(){return"custom-control"},formGroupClasses(){const e=G(h(this.$options.name),this.custom?Y:"");return this.mergeClasses(e,G(this.size,e),{"has-activity":this.activity,"is-valid":!(!this.valid&&!this.validFeedback),"is-invalid":!(!this.invalid&&!this.invalidFeedback)})},controlClasses(){return this.mergeClasses(this.controlClass,this.colorableClasses,this.controlSizeClass,this.spacing||"",this.valid||this.validFeedback?"is-valid":"",this.invalid||this.invalidFeedback?"is-invalid":"")},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){if(this.error)return this.error;const e=this.getFieldErrors();return o(e)?e.filter(e=>e&&"string"===typeof e).join("<br>"):e},validFeedback(){return o(this.feedback)?this.feedback.join("<br>"):this.feedback}}},ae=le,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"form-group":!!e.group}},[e._t("default")],2)},ue=[],de={name:"FormGroup",props:{group:{type:Boolean,default:!0}}},pe=de,fe=(n("7c5d"),L(pe,ce,ue,!1,null,null,null)),me=fe.exports,he=me,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form-group",{class:e.formGroupClasses,attrs:{group:e.group}},[e._t("label",[e.label?n("form-label",{ref:"label",class:e.labelClass,attrs:{for:e.$attrs.id},domProps:{innerHTML:e._s(e.label)}}):e._e()]),n("div",{staticClass:"form-group-inner"},[e._t("control",[n("input",e._b({directives:[{name:"bind-events",rawName:"v-bind-events"}],ref:"field",domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"input",e.controlAttributes,!1))]),e._t("activity",[n("transition",{attrs:{name:"slide-fade"}},[e.activity?n("activity-indicator",{key:"test",ref:"activity",attrs:{type:"dots",size:e.size}}):e._e()],1)])],2),e._t("feedback",[e.validFeedback?n("form-feedback",{attrs:{label:e.validFeedback,valid:""}}):e.invalidFeedback?n("form-feedback",{attrs:{label:e.invalidFeedback,invalid:""}}):e._e()]),e._t("help",[e.helpText?n("help-text",{ref:"help",domProps:{innerHTML:e._s(e.helpText)}}):e._e()])],2)},ye=[],be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("small",{staticClass:"form-text",class:e.classes},[e._t("default")],2)},ge=[],xe={props:{srOnly:Boolean,srOnlyFocusable:Boolean},computed:{screenreaderClasses(){return{"sr-only":this.srOnly,"sr-only-focusable":this.srOnlyFocusable}}}},_e={name:"HelpText",mixins:[W,xe],computed:{classes(){return r({},this.screenreaderClasses,this.colorableClasses)}}},Se=_e,$e=L(Se,be,ge,!1,null,null,null),Ce=$e.exports,we=Ce,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.classes},[e._t("default")],2)},ke=[],Fe={name:"FormLabel",mixins:[W,xe],computed:{classes(){return r({},this.screenreaderClasses,this.colorableClasses)}}},Ie=Fe,Ae=L(Ie,Ee,ke,!1,null,null,null),Be=Ae.exports,Pe=Be,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.label&&"string"!==typeof e.label?e._e():n("div",{class:e.classes},[e._t("default",[e._v(e._s(e.label))])],2)},Oe=[],qe={name:"FormFeedback",mixins:[W],props:{label:[Boolean,String],invalid:Boolean,valid:Boolean},computed:{classes(){return{"invalid-feedback":this.invalid,"valid-feedback":this.valid&&!this.invalid}}}},Te=qe,Le=L(Te,je,Oe,!1,null,null,null),Ne=Le.exports,ze=Ne,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.center?n("div",{staticClass:"center-wrapper",class:{"position-relative":e.relative,"position-fixed":e.fixed},style:e.style},[n("div",{staticClass:"center-content d-flex flex-column align-items-center"},[n(e.component,{tag:"component",attrs:{size:e.size,prefix:e.prefix}}),e.label?n("div",{staticClass:"activity-indicator-label",domProps:{innerHTML:e._s(e.label)}}):e._e()],1)]):n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",style:e.style},[n(e.component,{tag:"component",attrs:{size:e.size,prefix:e.prefix}}),e.label?n("div",{staticClass:"activity-indicator-label",domProps:{innerHTML:e._s(e.label)}}):e._e()],1)},Re=[],Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-indicator",class:e.classes},e._l(e.nodes,(function(e){return n("div",{key:e})})),0)},Me=[],De={props:{nodes:{type:Number,default:3},size:{type:String,default:""},prefix:{type:String,default:"activity-indicator-"}},computed:{classes:function(){const e={},t=h(this.$options.name);return e[t]=!!t,e[this.prefix+this.size.replace(this.prefix,"")]=!!this.size,e}}},Ge=De,We=L(Ge,Ke,Me,!1,null,null,null),Ue=We.exports,Ve={name:"ActivityIndicatorDots",extends:Ue},Xe=Ve,Ze=(n("e75e"),L(Xe,ie,re,!1,null,null,null)),Je=Ze.exports,Qe={name:"ActivityIndicatorSpinner",extends:Ue,props:r({},Ue.props,{nodes:{type:Number,default:12}})},Ye=Qe,et=(n("9d01"),L(Ye,se,oe,!1,null,null,null)),tt=et.exports,nt={name:"ActivityIndicator",components:{ActivityIndicatorDots:Je,ActivityIndicatorSpinner:tt},extends:Ue,props:{center:Boolean,fixed:Boolean,label:String,relative:Boolean,type:{type:String,default:"dots"},height:[String,Number],maxHeight:[String,Number],minHeight:[String,Number],width:[String,Number],maxWidth:[String,Number],minWidth:[String,Number]},computed:{style(){return{width:y(this.width),maxWidth:y(this.maxWidth),minWidth:y(this.minWidth),height:y(this.height),maxHeight:y(this.maxHeight),minHeight:y(this.minHeight)}},component(){return h(this.prefix+this.type.replace(this.prefix,""))}}},it=nt,rt=(n("00c4"),L(it,He,Re,!1,null,null,null)),st=rt.exports,ot=st,lt={name:"InputField",components:{HelpText:we,FormGroup:he,FormLabel:Pe,FormFeedback:ze,ActivityIndicator:ot},mixins:[U,ae]},at=lt,ct=(n("7aa6"),L(at,ve,ye,!1,null,null,null)),ut=ct.exports,dt=ut;const pt={ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,TAB:9},ft=["bounds","location","component-restrictions","offset","radius","types"];var mt={name:"place-autocomplete-field",mixins:[ae],components:{FormGroup:he,InputField:dt,ActivityIndicator:ot,PlaceAutocompleteList:M},watch:{value(e){this.query=e}},props:{apiKey:String,baseUri:{type:String,default:"https://maps.googleapis.com/maps/api/js"},componentRestrictions:{type:[Boolean,Object,String],default:!1},custom:Boolean,libraries:{type:Array,default(){return["geometry","places"]}},bounds:{type:[Boolean,Object,String],default:!1},location:{type:[Boolean,Object,String],default:!1},offset:{type:Boolean,default:!1},radius:{type:Boolean,default:!1},types:{type:[Boolean,Array],default:!1}},methods:{getInputElement(){return this.$el.querySelector("input")},getRequestOptions(){const e={input:this.getInputElement().value};for(let t in ft)void 0===this[t]&&null===this[t]||(e[t]=this[t]);return e},select(e){w({placeId:e.place_id}).then(t=>{this.$emit("input",this.query=t[0].formatted_address),this.$emit("autocomplete-select",e,t[0])})},search(){return new Promise((e,t)=>{this.getInputElement().value?(this.showActivityIndicator=!0,this.$service.getPlacePredictions(this.getRequestOptions(),(n,i)=>{switch(this.showActivityIndicator=!1,i){case window.google.maps.places.PlacesServiceStatus.OK:e(n);break;default:t(new Error(`Error with status: ${i}`))}})):(this.predictions=!1,this.showPredictions=!1)})},hide(){this.showPredictions=!1},show(){this.showPredictions=!0},up(){const e=this.$el.querySelector("a:focus");if(e&&e.parentElement.previousElementSibling)e.parentElement.previousElementSibling.querySelector("a").focus();else{const e=this.$el.querySelectorAll("a");e[e.length-1].focus()}},down(){const e=this.$el.querySelector("a:focus");e&&e.parentElement.nextElementSibling?e.parentElement.nextElementSibling.querySelector("a").focus():this.$el.querySelector("a").focus()},onKeydown(e){const t=this.$el.querySelector("[tabindex]");t&&e.keyCode===pt.TAB&&e.preventDefault()&&t.focus()},onKeyup(e){switch(e.keyCode){case pt.ENTER:case pt.SPACE:return void(this.$el.querySelector(".is-focused")&&this.$el.querySelector(".is-focused a").dispatchEvent(new Event("mousedown")));case pt.ESC:return this.hide(),void this.getInputElement().blur();case pt.UP:return this.up(),void e.preventDefault();case pt.DOWN:return this.down(),void e.preventDefault()}this.search().then(e=>{this.predictions=e,this.showPredictions=!0},e=>{e&&(this.predictions=!1)})},onFocus(e){this.query&&(this.predictions.length||this.onKeyup(e),this.show())},onBlur(e){this.$el.contains(e.relatedTarget)||this.hide()},onItemBlur(e){this.onBlur(e)},onItemClick(e,t){this.select(t.item),this.predictions=!1}},mounted(){this.apiKey&&A(`${this.baseUri}?key=${this.apiKey}&libraries=${this.libraries.join(",")}`).then(()=>{this.$geocoder=new window.google.maps.Geocoder,this.$service=new window.google.maps.places.AutocompleteService,this.loaded=!0,this.$emit("loaded")})},data(){return{loaded:!1,predictions:!1,query:this.value,showPredictions:!1,showActivityIndicator:this.activity}}},ht=mt,vt=(n("5780"),L(ht,$,C,!1,null,null,null)),yt=vt.exports,bt=function(e){e.directive("place-autofill",S),e.component("place-autocomplete-field",yt),e.component("place-autocomplete-list",M),e.component("place-autocomplete-list-item",z)};n.d(t,"PlaceAutofill",(function(){return S})),n.d(t,"PlaceAutocompleteField",(function(){return yt})),n.d(t,"PlaceAutocompleteList",(function(){return M})),n.d(t,"PlaceAutocompleteListItem",(function(){return z}));t["default"]=bt}})["default"]}));
//# sourceMappingURL=VuePlaceAutocomplete.umd.min.js.map